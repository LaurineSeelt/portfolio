<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Reproducing code | Portfolio Laurine Seelt" />
<meta property="og:type" content="book" />

<meta property="og:description" content="This is the bookdown for my DSFB2 portfolio" />


<meta name="author" content="Laurine Seelt" />

<meta name="date" content="2022-05-31" />


<meta name="description" content="This is the bookdown for my DSFB2 portfolio">

<title>Reproducing code | Portfolio Laurine Seelt</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#introduction">Introduction</a></li>
<li><a href="data-wrangling.html#data-wrangling">Data wrangling</a></li>
<li><a href="reproducing-code.html#reproducing-code">Reproducing code</a></li>
<li><a href="cleaning-up.html#cleaning-up">Cleaning up</a></li>
<li><a href="cv.html#cv">CV</a></li>
<li><a href="free-space.html#free-space">Free space</a></li>
<li><a href="zotero.html#zotero">Zotero</a></li>
<li><a href="github.html#github">GitHub</a></li>
<li><a href="dbeaver-and-sql.html#dbeaver-and-sql">DBeaver and SQL</a></li>
<li><a href="package.html#package">Package</a></li>
<li><a href="parameterization.html#parameterization">Parameterization</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="reproducing-code" class="section level1">
<h1>Reproducing code</h1>
<p>To show that I can read and understand a scientific study and recreate some of the code, I looked up two studies. For the first study, I scored it on several aspects and I wrote a short summary about it.
For the second study I tried to reproduce one figure that is used in the article.
<br></p>
<p><strong>Study 1</strong></p>
<p>Link to the study: <a href="https://pubmed.ncbi.nlm.nih.gov/29324233/" class="uri">https://pubmed.ncbi.nlm.nih.gov/29324233/</a>
<br>
<br></p>
<table>
<thead>
<tr class="header">
<th align="left">Category</th>
<th align="left">Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Study_purpose</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Data_availability_statement</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Data_location</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Study_location</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Author_review</td>
<td align="left">7</td>
</tr>
<tr class="even">
<td align="left">Ethics_statement</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Funding_statement</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Code_availability</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p><br>
<br>
In this study, researchers investigated the heterologous effects of Bacillus Calmette-Guérin (BCG) vaccination against other, non-related virus infections.
It has been known for some time that BCG vaccination has positive heterologous effects against other virusses, but the exact immunological basis for this effect has never been examined in depth. The researchers in this study examined the genome-wide histone modifications that take place as a result of BCG vaccination, and also examined the functional changes in monocytes that take place after BCG vaccination. The effect of BCG vaccination on viral, serological and immunological parameters after administration of the Yellow Fever Vaccine was also examined.
<br>
The method used for this study was ChIP-sequencing, to look at genome-wide changes in the distribution of H3K27ac. H3K27ac is a marker of active promoters and enhancers. This was done before BCG vaccination and one month after BCG vaccination. Correlation plots showed a clear distinction between the two kinds of samples. Most changes between the two kinds of samples were related to G-protein coupled receptors and protein kinases, which shows that BCG vaccination has a substantial effect on remodeling signal transduction molecules.
<br>
The researchers also showed that the cytokine response to unrelated pathogens was enhanced one month after BCG vaccination. The heterologous T-cell response was also moderately enhanced after BCG vaccination.
<br>
Next, this study looked at the difference in immune response to the Yellow Fever Vaccine between people who had had the BCG vaccination, and people who hadn’t. People who had had the vaccine had a significantly lower viremia compared to people who had had the placebo vaccine. It was seen that mainly increased IL1-B and IL-10 production predicted a lower viremia in subjects who had had the BCG vaccine.
<br></p>
<p><strong>Study 2</strong></p>
<p>Link to the study: <a href="https://osf.io/aqycd/" class="uri">https://osf.io/aqycd/</a></p>
<p>The code was very readable, and I recreated one of the figures from the study.</p>
<p><strong>Recreating figure 1A</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="reproducing-code.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb11-2"><a href="reproducing-code.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-3"><a href="reproducing-code.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb11-4"><a href="reproducing-code.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb11-5"><a href="reproducing-code.html#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="reproducing-code.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################################################</span></span>
<span id="cb11-7"><a href="reproducing-code.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="do">##### Descriptives; </span></span>
<span id="cb11-8"><a href="reproducing-code.html#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="reproducing-code.html#cb11-9" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(<span class="fu">read.csv2</span>(<span class="fu">here</span>(<span class="st">&quot;Data/Data_LittSurvey_Box1.csv&quot;</span>)))</span>
<span id="cb11-10"><a href="reproducing-code.html#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="reproducing-code.html#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="reproducing-code.html#cb11-12" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Hypo=</span><span class="fu">ifelse</span>(Clearly.stated.hypothesis<span class="sc">&gt;</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="reproducing-code.html#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experiment=</span><span class="fu">ifelse</span>(Study.design<span class="sc">==</span><span class="st">&quot;Experimental&quot;</span>, <span class="dv">1</span>,<span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-14"><a href="reproducing-code.html#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">YearLaps=</span><span class="fu">abs</span>(Year<span class="dv">-2016</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-15"><a href="reproducing-code.html#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Scope2=</span><span class="fu">ifelse</span>(Scope<span class="sc">==</span><span class="st">&quot;Methods&quot;</span>, <span class="st">&quot;Methods&quot;</span>, <span class="st">&quot;Biodiversity response&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-16"><a href="reproducing-code.html#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hypothesis2=</span>Clearly.stated.hypothesis) <span class="sc">%&gt;%</span> </span>
<span id="cb11-17"><a href="reproducing-code.html#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hypothesis2=</span><span class="fu">ifelse</span>(Hypothesis2<span class="sc">==</span><span class="dv">0</span>, <span class="st">&quot;No&quot;</span>, </span>
<span id="cb11-18"><a href="reproducing-code.html#cb11-18" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(Hypothesis2<span class="sc">==</span><span class="dv">1</span>, <span class="st">&quot;Partly&quot;</span>, </span>
<span id="cb11-19"><a href="reproducing-code.html#cb11-19" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(Hypothesis2<span class="sc">==</span><span class="dv">2</span>, <span class="st">&quot;Implied&quot;</span>, <span class="st">&quot;Clearly stated&quot;</span>))))</span>
<span id="cb11-20"><a href="reproducing-code.html#cb11-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-21"><a href="reproducing-code.html#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################</span></span>
<span id="cb11-22"><a href="reproducing-code.html#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="do">##### cleary stated hypotheis; </span></span>
<span id="cb11-23"><a href="reproducing-code.html#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="reproducing-code.html#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="do">## Plotting results; </span></span>
<span id="cb11-25"><a href="reproducing-code.html#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="do">## Clearly stated hypothesis; </span></span>
<span id="cb11-26"><a href="reproducing-code.html#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="do">## Figure 1a</span></span>
<span id="cb11-27"><a href="reproducing-code.html#cb11-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-28"><a href="reproducing-code.html#cb11-28" aria-hidden="true" tabindex="-1"></a>Hypothesis_prop <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Hypothesis2, Scope2) <span class="sc">%&gt;%</span></span>
<span id="cb11-29"><a href="reproducing-code.html#cb11-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Clearly.stated.hypothesis) <span class="sc">%&gt;%</span></span>
<span id="cb11-30"><a href="reproducing-code.html#cb11-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop=</span><span class="fu">prop.table</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb11-31"><a href="reproducing-code.html#cb11-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hypothesis3=</span> <span class="fu">factor</span>(Hypothesis2, </span>
<span id="cb11-32"><a href="reproducing-code.html#cb11-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Implied&quot;</span>, <span class="st">&quot;Partly&quot;</span>, <span class="st">&quot;Clearly stated&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb11-33"><a href="reproducing-code.html#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">Scope3=</span> <span class="fu">factor</span>(Scope2, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;Methods&quot;</span>, <span class="st">&quot;Biodiversity response&quot;</span>)))</span>
<span id="cb11-34"><a href="reproducing-code.html#cb11-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-35"><a href="reproducing-code.html#cb11-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-36"><a href="reproducing-code.html#cb11-36" aria-hidden="true" tabindex="-1"></a>Hypothesis_prop2 <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb11-37"><a href="reproducing-code.html#cb11-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Scope<span class="sc">==</span><span class="st">&quot;Ecological processes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-38"><a href="reproducing-code.html#cb11-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Clearly.stated.hypothesis) <span class="sc">%&gt;%</span></span>
<span id="cb11-39"><a href="reproducing-code.html#cb11-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop=</span><span class="fu">prop.table</span>(n))</span>
<span id="cb11-40"><a href="reproducing-code.html#cb11-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-41"><a href="reproducing-code.html#cb11-41" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>Hypothesis_prop, <span class="fu">aes</span>(<span class="at">x=</span>Hypothesis3, <span class="at">y=</span>n, <span class="at">fill=</span>Scope3)) <span class="sc">+</span></span>
<span id="cb11-42"><a href="reproducing-code.html#cb11-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">width=</span><span class="fl">0.7</span>, ) <span class="sc">+</span></span>
<span id="cb11-43"><a href="reproducing-code.html#cb11-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb11-44"><a href="reproducing-code.html#cb11-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">15</span>), <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>, <span class="at">legend.title =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb11-45"><a href="reproducing-code.html#cb11-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">17</span>)) <span class="sc">+</span></span>
<span id="cb11-46"><a href="reproducing-code.html#cb11-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">100</span>)<span class="sc">+</span></span>
<span id="cb11-47"><a href="reproducing-code.html#cb11-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;&quot;</span>, <span class="at">y=</span><span class="st">&quot;Number of articles&quot;</span>, <span class="at">title=</span><span class="st">&quot;&quot;</span>) <span class="sc">+</span> </span>
<span id="cb11-48"><a href="reproducing-code.html#cb11-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Blues&quot;</span>)</span>
<span id="cb11-49"><a href="reproducing-code.html#cb11-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-50"><a href="reproducing-code.html#cb11-50" aria-hidden="true" tabindex="-1"></a>p<span class="sc">+</span><span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>In the field of applied ecological research, the lines between exploratory research and confirmatory research are becoming more and more blurred. A lot of researchers in the field of applied ecology do not follow the <strong>strong inference paradigm</strong>. This means that a lot of researchers in this field often don’t devise an alternative hypothesis when they’re conducting their research. What’s more, they often don’t even devise <em>a</em> hypothesis before conducting their research. This is dangerous, and could, for example, lead to more confirmation bias in this field.
The researchers of this paper looked at 159 papers from conservation/applied ecology/wildife journals. They scored all the papers on certain criteria, to see how the experiments were conducted. This figure displays the amount of papers that had either a clearly stated hypothesis or not, divided by what the research focussed on: methods or biodiversity response.</p>
<p>It was very easy to reproduce the code, I had to make very few changes before I managed to get the graph.</p>

</div>
<p style="text-align: center;">
<a href="data-wrangling.html"><button class="btn btn-default">Previous</button></a>
<a href="cleaning-up.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
